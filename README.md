总控制器实现方案

座椅旋转位置定义

typedef enum {
    /* 单个座椅旋转方向 */
    G_SEAT_ZHENGQIAN  = 0x50,  // 面向前
    G_SEAT_ZHENGHOU   = 0x51,  // 面向后
    G_SEAT_GUODAO     = 0x52,  // 面向过道
    G_SEAT_1WEIDUAN   = 0x53,  // 面向一位端
    G_SEAT_2WEIDUAN   = 0x54,  // 面向二位端

    /* 全部座椅旋转 */
    G_SEAT_ALL_1WEIDUAN   = 0x40,  // 一位端
    G_SEAT_ALL_2WEIDUAN   = 0x41,  // 二位端
    G_SEAT_ALL_ZHENGQIAN  = 0x42,  // 正前
    G_SEAT_ALL_ZHENGHOU   = 0x43,  // 正后

    /* 会议模式 */
    G_SEAT_MEETING_6REN   = 0x80,  // 六人会议

    /* 两人会客 */
    G_SEAT_NUM_1A_2A      = 0x00,
    G_SEAT_NUM_2A_3A      = 0x01,
    G_SEAT_NUM_1F_2F      = 0x10,
    G_SEAT_NUM_2F_3F      = 0x11,
    G_SEAT_NUM_1A_1F      = 0x20,
    G_SEAT_NUM_2A_2F      = 0x21,
    G_SEAT_NUM_3A_3F      = 0x22,

    /* 四人会客 */
    G_SEAT_NUM_1A_2A_1F_2F = 0x30,
    G_SEAT_NUM_2A_3A_2F_3F = 0x31,

} G_SEAT_ROTATE_CMD_T;






呼叫定义
    Byte3：0000 0000  Byte2：0000 0000 Byte1：0000 0000

座椅1保持:  Byte1.bit0=1;   0000 0000 0000 0000 0000 0001
座椅1复位:  Byte1.bit0=0;   0000 0000 0000 0000 0000 0000

座椅2保持:  Byte1.bit1=1;   0000 0000 0000 0000 0000 0010
座椅2复位:  Byte1.bit1=0;   0000 0000 0000 0000 0000 0000

座椅3保持:  Byte1.bit2=1;   0000 0000 0000 0000 0000 0100
座椅3复位:  Byte1.bit2=0;   0000 0000 0000 0000 0000 0000

座椅4保持:  Byte1.bit3=1;   0000 0000 0000 0000 0000 1000
座椅4复位:  Byte1.bit3=0;   0000 0000 0000 0000 0000 0000

座椅5保持:  Byte1.bit4=1;   0000 0000 0000 0000 0001 0000
座椅5复位:  Byte1.bit4=0;   0000 0000 0000 0000 0000 0000

座椅6保持:  Byte1.bit5=1;   0000 0000 0000 0000 0010 0000
座椅6复位:  Byte1.bit5=0;   0000 0000 0000 0000 0000 0000

通讯

PIS>>>总控
    1、旋转功能
        -发送座椅旋转到指定位置
        -接收反馈、总控是否收到指令
    2、呼叫功能
        -发送清除座椅呼叫指令
        -接收反馈、总控是否收到指令
    3、氛围灯
        -发送设置氛围灯开关指定
        -接收反馈、总控是否收到指令

总控>>>PIS
    1、旋转反馈
    2、呼叫反馈
    3、氛围灯反馈

总控>>>边柜控制器
    1、座椅旋转
        -发送回到坐姿指令
        -接收反馈座椅是否在坐姿（正在动作、动作异常、动作完成）
        -发送旋转到指定位置指令
        -接收反馈座椅旋转状态（正在动作、动作异常、动作完成）
    2、呼叫
        -轮询查询6个座椅的呼叫
        -接收反馈座椅是否有呼叫
    3、氛围灯
        -设置氛围灯开关

边柜控制器>>>总控
    1、座椅旋转
        -反馈是否回到坐姿（正在动作、动作异常、动作完成）
        -反馈旋转状态（正在动作、动作异常、动作完成）
    2、呼叫
        -反馈座椅呼叫状态
    3、氛围灯
        -反馈氛围灯状态

调试-大彩屏
    1、旋转控制页面
        -一位端
        -二位端
        -


